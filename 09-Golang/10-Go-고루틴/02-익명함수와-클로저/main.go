package main

import (
	"fmt"
	time "time"
)

func main() {
	// ğŸš«ì˜ëª»ëœ ì˜ˆ: ë°˜ë³µ ë³€ìˆ˜ ië¥¼ ì§ì ‘ ì‚¬ìš©
	fmt.Println("ì˜ëª»ëœ ê²½ìš°:")
	for i := 0; i < 3; i++ {
		// ì´ ê³ ë£¨í‹´ì€ iì˜ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ì°¸ì¡°í•¨
		// ê³ ë£¨í‹´ì´ ì‹¤í–‰ë  ì‹œì ì—ëŠ” ë°˜ë³µë¬¸ì´ ëë‚˜ iëŠ” 3ì´ ë˜ì–´ ìˆì„ ê°€ëŠ¥ì„±ì´ ë†’ìŒ
		go func() {
			fmt.Println(i)
		}()
	}
	time.Sleep(1 * time.Second)
	fmt.Println("\nì˜¬ë°”ë¥¸ ì˜ˆ (1): ë³€ìˆ˜ ë³µì‚¬")


	// ğŸ”¥ì˜¬ë°”ë¥¸ ì˜ˆ (1): ë°˜ë³µ ë³€ìˆ˜ë¥¼ ê³ ë£¨í‹´ ë‚´ì˜ ì§€ì—­ ë³€ìˆ˜ë¡œ ë³µì‚¬
	for i := 0; i < 3; i++ {
		i := i // ìƒˆë¡œìš´ ë³€ìˆ˜ iì— í˜„ì¬ iì˜ ê°’ì„ ë³µì‚¬ (Shadowing) â­â­ ì´ëŸ°ì‹ìœ¼ë¡œ ë°˜ë³µë¬¸ ë‚´ì—ì„œ ë³€ìˆ˜ë¥¼ ìƒˆë¡œ ì„ ì–¸í•˜ë©´, ê° ê³ ë£¨í‹´ì€ ìì‹ ë§Œì˜ i ê°’ì„ ê°€ì§€ê²Œ ë¨
                                                           // â­â­ ë°˜ë³µë¬¸ ëŒë•Œë§ˆë‹¤ iê°€ ìƒˆë¡œ ì„ ì–¸, ê·¸ëŸ¼ ê³ ë£¨í‹´ì´ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ iëŠ” í˜„ì¬ ë°˜ë³µì˜ ê°’ì„ ê°€ì§€ê²Œ ë¨
		// ì´ ê³ ë£¨í‹´ì€ iì˜ ê°’ì„ ë³µì‚¬í•˜ì—¬ ì‚¬ìš©í•¨ 	
		go func() {
			fmt.Println(i) // ë³µì‚¬ëœ ë³€ìˆ˜ë¥¼ ì‚¬ìš©
		}()
	}
	time.Sleep(1 * time.Second)
	fmt.Println("\nì˜¬ë°”ë¥¸ ì˜ˆ (2): ì¸ìë¡œ ì „ë‹¬")


	// ğŸ”¥ì˜¬ë°”ë¥¸ ì˜ˆ (2): ë°˜ë³µ ë³€ìˆ˜ë¥¼ ê³ ë£¨í‹´ í•¨ìˆ˜ì˜ ì¸ìë¡œ ì „ë‹¬
	for i := 0; i < 3; i++ {
		go func(val int) {
			fmt.Println(val)
		}(i) // í˜„ì¬ iì˜ ê°’ì„ ì¸ìë¡œ ì „ë‹¬
	}
	time.Sleep(1 * time.Second)
}
